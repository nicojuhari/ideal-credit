import{k as C,c as h,o as z,a as t,g as I,G as $,t as u,E as P,F,r as O,u as V,l as B,v as A,m as G,D as H,aw as L,ax as E,e as y,d as R,i as U,w as Y}from"./C8t5xOoC.js";const W={class:"modal fixed z-20 flex items-end justify-center top-0 left-0 w-full h-screen p-4"},q={class:"modal-header flex justify-between items-center p-4"},J={class:"text-lg font-bold"},K={key:0,class:"py-2 text-bold italic"},Q={class:"modal-content overflow-y-auto px-4 h-full flex-1"},X={class:"overflow-y-hidden"},Z={__name:"Modal",props:{modalTitle:{default:"",type:String},large:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:a}){const l=a;document.body.classList.add("modal-open");const i=C(!1),r=()=>{i.value=!0,setTimeout(()=>{document.body.classList.remove("modal-open"),l("close")},500)};return(o,d)=>(z(),h("div",W,[d[1]||(d[1]=t("div",{class:"modal-backdrop fixed min-h-screen w-full top-0 left-0 bg-black-600/50"},null,-1)),t("div",{class:P(["modal-container bg-gray-200 text-black rounded-lg z-10 m-auto w-full flex flex-col flex-1 max-h-full pb-4",[{"to-close":i.value==!0},{"max-w-sm":!n.large},{"max-w-2xl":n.large}]])},[t("div",q,[t("div",J,u(n.modalTitle),1),t("div",{class:"modal-close cursor-pointer hover:bg-opacity-10 transition-all p-1 rounded-full",onClick:r},d[0]||(d[0]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),o.$slots.modalMessage?(z(),h("div",K,[$(o.$slots,"modalMessage")])):I("",!0),t("div",Q,[t("div",X,[$(o.$slots,"default")])]),$(o.$slots,"modalFooter")],2)]))}},tt={class:"overflow-auto border border-orange-black-light"},et={class:"table-fixed min-w-full text-sm divide-y divide-orange-black-light grafic-table overflow-y-auto"},lt={class:"divide-y divide-orange-black-light"},at={class:"px-4 py-2 font-bold whitespace-nowrap"},it={class:"px-4 py-2 whitespace-nowrap"},nt={class:"px-4 py-2 whitespace-nowrap"},rt={class:"px-4 py-2 whitespace-nowrap"},ot={class:"px-4 py-2 whitespace-nowrap"},st={class:"px-4 py-2 font-bold text-left whitespace-nowrap"},dt={class:"px-4 py-2 font-bold text-left whitespace-nowrap"},ut={class:"px-4 py-2 font-bold text-left whitespace-nowrap"},ct={__name:"GraficTable",props:["grafic","dobindaTotal","credit"],setup(n){return(a,l)=>(z(),h("div",tt,[t("table",et,[l[2]||(l[2]=t("thead",null,[t("tr",null,[t("th",{class:"px-4 py-2 font-bold text-left whitespace-nowrap w-28"},"Nr."),t("th",{class:"px-4 py-2 font-bold text-left whitespace-nowrap"},"Data"),t("th",{class:"px-4 py-2 font-bold text-left whitespace-nowrap"},"Credit"),t("th",{class:"px-4 py-2 font-bold text-left whitespace-nowrap"},"Dobânda"),t("th",{class:"px-4 py-2 font-bold text-left whitespace-nowrap"},"Total")])],-1)),t("tbody",lt,[(z(!0),h(F,null,O(n.grafic,(i,r)=>(z(),h("tr",null,[t("td",at,u(r+1),1),t("td",it,u(new Date(i.data_rata).toLocaleDateString("ro-RO")),1),t("td",nt,u(i.credit_rata),1),t("td",rt,u(i.dobinda_rata),1),t("td",ot,u(i.dobinda_rata+i.credit_rata),1)]))),256))]),t("tfoot",null,[t("tr",null,[l[0]||(l[0]=t("th",{class:"px-4 py-2 font-bold text-left whitespace-nowrap"},null,-1)),l[1]||(l[1]=t("th",{class:"px-4 py-2 font-bold text-left whitespace-nowrap"},"Total",-1)),t("th",st,u(n.credit),1),t("th",dt,u(n.dobindaTotal),1),t("th",ut,u(+n.credit+ +n.dobindaTotal),1)])])])]))}},pt=({sum:n,period:a,interest:l,startDate:i=k(new Date),creditRatesToPay:r=0,desiredCreditRate:o=0,desiredTotalRate:d=0,desiredStartRate:f=0,desiredStartDateToPay:p="",monthWithoutInterest:g=0}={})=>{let c={},T=[],x=0,w=0,s=0,e=0,b=0;o=Number(o),d=Number(d),x=r||a,o>0&&(d==0||!d)?s=o:s=Math.round(n/x);for(let m=0;m<Number(a);m++){c={nr_rata:0,data_rata:"",credit_rata:0,dobinda_rata:0,total_rata:0};let N=f+m+1,D="";if(p?D=k(S(m,p)):D=k(S(m+1,i)),Number(l)>0&&(b=Math.round(Number(l)*(Number(n)-w)/100)),p&&p!=i&&m==0){let M=vt(i,D);M>0&&(b=Math.round(b/30.5*M))}if(+g>0&&m<+g&&(b=0),d>0&&d>=b&&(s=d-b),Number(a)==m+1&&(s=Number(n)-w),m>=Number(a)-x?e=s+b:e=b,m>=Number(a)-x&&(w=w+s),w>Number(n))return console.log("totalInsertedRates > Number(sum)"),[];c.nr_rata=N,c.data_rata=D,m>=a-x&&(c.credit_rata=s),c.dobinda_rata=b,c.total_rata=e,T.push(c)}return T},mt=(n,a,l=new Date)=>{if(n.length==0)return;let i=[],r=0;return n.forEach(o=>{i[o.data_rata]=o.total_rata}),r=gt(a,l,i,.01)*100,r.toFixed(2)},k=n=>{let a=new Date(n),l=a.getDate(),i=a.getMonth()+1,r=a.getFullYear();return l<10&&(l="0"+l),i<10&&(i="0"+i),r+"-"+i+"-"+l},S=(n,a="")=>{a?a=new Date(a):a=new Date;let l=a.getDate();return a.setDate(1),a.setMonth(a.getMonth()+n),a.setDate(Math.min(l,bt(a.getFullYear(),a.getMonth())))},ft=n=>n%4===0&&n%100!==0||n%400===0,bt=(n,a)=>[31,ft(n)?29:28,31,30,31,30,31,31,30,31,30,31][a],vt=(n,a)=>Math.abs(new Date(a)-new Date(n))/864e5,gt=(n,a,l,i)=>{let r=[-1*n],o=[1],d=new Date(a);return Object.keys(l).forEach(function(f){r.push(l[f]),o.push(1+Math.ceil(Math.abs(new Date(f).getTime()-d.getTime())/864e5))}),Math.abs(xt(function(f){let p=0;return o.forEach(function(g,c){p+=r[c]*Math.pow(1+f,(o[0]-g)/365)}),p},function(f){let p=0;return o.forEach(function(g,c){p+=1/365*(o[0]-g)*r[c]*Math.pow(1+f,(o[0]-g)/365-1)}),p},i))},xt=(n,a,l)=>{let i=Math.pow(10,-4),r=0;do l=Number(l),r=Number(l),l=r-Number(n(l))/Number(a(l));while(Math.abs(l-r)>i);return l},wt={class:"card relative"},yt={class:"grid gap-6 md:gap-10 grid-cols-1 md:grid-cols-2"},Ct={class:"mt-6"},Dt={class:"flex gap-4 justify-between items-center mb-1"},zt={for:"credit-amount-input"},ht=["value"],Mt={for:"credit-amount-range"},Tt={class:"mt-10"},Nt={class:"flex gap-4 justify-between items-center mb-1"},$t={for:"credit-period-input"},kt=["value"],jt={for:"credit-period-range"},_t={class:"flex flex-col"},Lt={class:"grid place-content-center mt-2 text-orange-gray-dark"},Et={class:"w-48 h-48 grid place-content-center gap-4 border-4 rounded-full text-center border-white/20"},Rt={class:"text-brand-500 title !my-0"},St={class:"grid gap-3 md:gap-10 grid-cols-1 md:grid-cols-2"},It={class:"flex gap-6 justify-between mt-3"},Pt={class:"flex gap-6 justify-between"},Ft={class:"flex gap-6 justify-between mt-3"},Ot={class:"flex gap-6 justify-between mt-3"},Vt={class:"mt-8 flex gap-4 items-center"},Bt=["innerHTML"],At={class:"table-fixsed w-full border-collapse pre-contract-table border",id:"preContractTable"},Ht={__name:"CalculatorCredit",setup(n){const{trackEvent:a}=V(),l=C(1e4),i=C(12),r=C(null),o=C(0),d=C(0),f=C(!1),p=C(null),g=()=>{f.value=!0,a("CustomizeProduct")},c={comision:0,dobinda:[4,3.5,3]};B(()=>{i.value<6&&(i.value=6),i.value>60&&(i.value=60),l.value<1e3&&(l.value=1e3),l.value>3e5&&(l.value=3e5),r.value=pt({sum:l.value,period:i.value,interest:4}),r.value.length!=0&&(o.value=mt(r.value,l.value),d.value=r.value.reduce((s,e)=>e.dobinda_rata+s,0))}),A([l,i],()=>{a("CustomizeProduct")},{once:!0});const T=G(()=>c.comision*+l.value/100),x=(s,e)=>{e==="suma"&&(l.value=s,s<1e3&&(l.value=1e3),s>3e5&&(l.value=3e5)),e==="termen"&&(i.value=s,s<6&&(i.value=6),s>60&&(i.value=60))},w=s=>{const e=s.target.value;isNaN(e)&&(s.target.value=""),s.target.value=Math.round(e)};return(s,e)=>{var D,M,j,_;const b=U,m=Z,N=ct;return z(),h("div",wt,[e[49]||(e[49]=t("div",{id:"calculator-de-credit",class:"invisible absolute -z-10 -top-20 md:-top-24"},null,-1)),e[50]||(e[50]=t("h2",{class:"card-title text-center"},"Calculator de credit",-1)),t("div",yt,[t("div",null,[t("div",Ct,[t("div",Dt,[e[5]||(e[5]=t("div",null,"Suma",-1)),t("label",zt,[t("input",{id:"credit-amount-input",type:"number",value:l.value,onInput:w,onChange:e[0]||(e[0]=v=>x(v.target.value,"suma")),class:"input-calculator"},null,40,ht)])]),t("label",Mt,[L(t("input",{id:"credit-amout-range",type:"range","onUpdate:modelValue":e[1]||(e[1]=v=>l.value=v),min:"1000",max:"300000",step:"100",class:"mb-4 w-full h-1.5 bg-white/20 rounded-lg appearance-none cursor-pointer border-0 !p-0"},null,512),[[E,l.value]])]),e[6]||(e[6]=t("div",{class:"flex gap-6 justify-between text-white text-opacity-80 text-sm"},[t("div",null,"1000 lei"),t("div",null,"300 000 lei")],-1))]),t("div",Tt,[t("div",Nt,[e[7]||(e[7]=t("div",null,"Termen",-1)),t("label",$t,[t("input",{id:"credit-period-input",type:"number",value:i.value,onInput:w,onChange:e[2]||(e[2]=v=>x(v.target.value,"termen")),class:"input-calculator"},null,40,kt)])]),t("label",jt,[L(t("input",{id:"credit-period-range",type:"range","onUpdate:modelValue":e[3]||(e[3]=v=>i.value=v),min:"6",max:"60",step:"1",class:"mb-4 w-full h-1.5 bg-white/20 rounded-lg appearance-none cursor-pointer border-0 !p-0"},null,512),[[E,i.value]])]),e[8]||(e[8]=t("div",{class:"flex gap-6 justify-between text-white/80 text-sm"},[t("div",null,"6 luni"),t("div",null,"60 luni")],-1))])]),t("div",_t,[t("div",Lt,[t("div",Et,[e[9]||(e[9]=t("div",null,"Prima rată",-1)),t("div",Rt,u(((M=(D=r.value)==null?void 0:D[0])==null?void 0:M.credit_rata)+((_=(j=r.value)==null?void 0:j[0])==null?void 0:_.dobinda_rata)||0),1),e[10]||(e[10]=t("div",null,"MDL",-1))])]),t("div",{class:"flex justify-center mt-8"},[t("button",{class:"btn btn-primary",onClick:g},"Vezi preContractul")])])]),e[51]||(e[51]=t("div",{class:"text-center mt-12 mb-8"},"Costurile creditului",-1)),t("div",St,[t("div",null,[e[12]||(e[12]=t("div",{class:"flex gap-6 justify-between"},[t("div",null,"Comision de acordare"),t("div",null,"0 MDL")],-1)),e[13]||(e[13]=t("div",{class:"flex gap-6 justify-between mt-3"},[t("div",null,"Penalitate pe zi"),t("div",null,"0.04 %")],-1)),t("div",It,[e[11]||(e[11]=t("div",null,"Dobânda lunară",-1)),t("div",null,u(c.dobinda[0])+" %",1)])]),t("div",null,[t("div",Pt,[e[14]||(e[14]=t("div",null,"Dobânda anuală medie",-1)),t("div",null,u(c.dobinda[0]*12)+" %",1)]),t("div",Ft,[e[15]||(e[15]=t("div",null,[y("DAE"),t("span",{class:"text-sm"}," (Dobânda anuală efectivă)")],-1)),t("div",null,u(o.value)+" %",1)]),t("div",Ot,[e[16]||(e[16]=t("div",null,"Costul total al creditului",-1)),t("div",null,u(d.value+T.value)+" MDL",1)])])]),t("div",Vt,[R(b,{name:"i-ph-info",class:"text-brand-500/50 text-2xl shrink-0"}),e[17]||(e[17]=t("span",{class:"text-sm text-white/80"},"Consumatorul este responsabil pentru rambursarea creditului.",-1))]),f.value?(z(),H(m,{key:0,large:"",onClose:e[4]||(e[4]=v=>f.value=!1),modalTitle:"Informația preContractuală"},{default:Y(()=>{var v;return[t("div",{innerHTML:(v=p.value)==null?void 0:v.innerHTML},null,8,Bt)]}),_:1})):I("",!0),t("div",{ref_key:"preContractRef",ref:p,class:"hidden"},[t("div",null,[e[45]||(e[45]=t("h4",{class:"text-center my-6 text-lg font-medium"},"Graficul de Rambursare conform preContractului de mai jos",-1)),R(N,{grafic:r.value,dobindaTotal:d.value,credit:l.value},null,8,["grafic","dobindaTotal","credit"]),e[46]||(e[46]=t("h4",{class:"text-center my-6 text-lg font-medium"},"Informaţii standard privind creditul pentru consumatori",-1)),t("table",At,[t("tbody",null,[e[21]||(e[21]=t("tr",null,[t("td",{colspan:"2",class:"table-subheader"},"1. Denumirea și datele de contact al Organizației")],-1)),e[22]||(e[22]=t("tr",null,[t("td",null,"Creditor"),t("td",null,'Organizația de Creditare Nebancară "Ideal Credit" SRL')],-1)),e[23]||(e[23]=t("tr",null,[t("td",null,"Adresa"),t("td",null,[y("m.Chișinău, str.Miron Costin, nr.25, of.115 (sucursala nr.1)"),t("br"),t("br"),y("sau"),t("br"),t("br"),y("or.Căușeni, str.Mihai Eminescu nr.17, of.47 (sediul principal)")])],-1)),e[24]||(e[24]=t("tr",null,[t("td",null,"Nr. Telefon"),t("td",null,"079066566, 078805060")],-1)),e[25]||(e[25]=t("tr",null,[t("td",null,"Adresa de Email"),t("td",null,"info@idealcredit.md")],-1)),e[26]||(e[26]=t("tr",null,[t("td",null,"Pagina web"),t("td",null,"www.idealcredit.md")],-1)),e[27]||(e[27]=t("tr",null,[t("td",{colspan:"2",class:"table-subheader"},"2. Descrierea principalelor caracteristici ale produsului de creditare")],-1)),e[28]||(e[28]=t("tr",null,[t("td",null,"Tipul de credit "),t("td",null,"Credit nebancar")],-1)),t("tr",null,[e[18]||(e[18]=t("td",null,[y(" Valoarea totală a creditului"),t("br"),t("i",{class:"text-sm"},"Înseamnă plafonul sau sumele totale puse la dispoziţie în temeiul contractului de credit")],-1)),t("td",null,u(l.value)+" MDL",1)]),e[29]||(e[29]=t("tr",null,[t("td",null,[y(" Condiţiile care reglementează tragerea creditului"),t("br"),t("i",{class:"text-sm"},"Înseamnă modul şi momentul de obţinere a banilor")]),t("td",null,"Mijloacele bănești se vor elibera exclusiv din casieria Organizației")],-1)),t("tr",null,[e[19]||(e[19]=t("td",null,"Durata Contractului de credit",-1)),t("td",null,u(i.value)+" luni",1)]),e[30]||(e[30]=t("tr",null,[t("td",null,"Ratele şi ordinea în care acestea vor fi achitate "),t("td",null,[y(" Conform graficului anexat la prezenta informație, acceptat și semnat de către client"),t("br"),t("i",null,"* Găsiți graficul mai sus!")])],-1)),e[31]||(e[31]=t("tr",null,[t("td",{colspan:"2",class:"table-subheader"},"3. Costurile creditului")],-1)),e[32]||(e[32]=t("tr",null,[t("td",null,"Dobînda lunară"),t("td",null,"4% lunar")],-1)),e[33]||(e[33]=t("tr",null,[t("td",null,"Rata dobînzii aferente creditului"),t("td",null,"48% (dobîndă fixă)")],-1)),t("tr",null,[e[20]||(e[20]=t("td",null,"Dobînda anuală efectivă (DAE)",-1)),t("td",null,u(o.value)+" %",1)]),e[34]||(e[34]=t("tr",null,[t("td",null,[t("i",{class:"text-sm"},"Dacă este cazul:"),t("br"),y(" Pentru obţinerea creditului, este obligatoriu să se încheie: ")]),t("td",null,"În funcție de evaluarea riscului de credit, pot fi încheiate contracte de fidejusiune (garant) sau gaj (imobil)")],-1)),e[35]||(e[35]=t("tr",null,[t("td",{colspan:"2",class:"table-subheader"},"4. Costuri aferente")],-1)),e[36]||(e[36]=t("tr",null,[t("td",null,"Comision pentru eliberarea creditului"),t("td",null,"0.00 % din suma eliberată")],-1)),e[37]||(e[37]=t("tr",null,[t("td",null,"Comision pentru prelungirea Contractului"),t("td",null,"Comisionul pentru prelungirea termenului Contractului este egal cu dobînda necesar a fi achitată pentru rata care a fost amînată. (La solicitarea clientului) ")],-1)),e[38]||(e[38]=t("tr",null,[t("td",null,"Costuri în caz de întîrziere la plată "),t("td",null,"Se va calcula o penalitate în mărime de 0.04% maxim, pentru fiecare zi de întîrziere din valoarea totală a creditului")],-1)),e[39]||(e[39]=t("tr",null,[t("td",{colspan:"2"},"În conformitate cu prevederile art. 15, alin. 7), lit. a) din Legea nr. 202 din 12.07.2013 privind contractele de credit pentru consumatori, orice alte plăți aferente creditului acordat (comisioane, taxe, penalități, dobînzii de întîrziere și orice alt tip de plată), cu excepția dobînzii, se vor încasa conform regulii ca acestea să nu depășească cumulativ 0,04% din valoarea totală a creditului pe o zi de credit înmulțit la numărul de zile pentru care este contractat creditul.")],-1)),e[40]||(e[40]=t("tr",null,[t("td",{colspan:"2",class:"table-subheader"},"5. Alte aspecte juridice importante")],-1)),e[41]||(e[41]=t("tr",null,[t("td",null,"Dreptul de revocare"),t("td",null,"Clientul are dreptul la revocarea Contractului timp de 14 zile de la data semnării lui cu, condiția că, creditul nu a fost eliberat din casierie. Organizația are dreptul la revocarea Contractului dacă clientul încalcă condițiile acestuia. ")],-1)),e[42]||(e[42]=t("tr",null,[t("td",null,"Rambursare anticipată"),t("td",null,"Clientul are dreptul să ramburseze anticipat creditul. Pentru aceasta, Organizația nu percepe careva taxe neprecăzute în Contract. ")],-1)),e[43]||(e[43]=t("tr",null,[t("td",null,"Consultarea unei baze de date"),t("td",null,"În cazul în care cererea de solicitare a creditului va fi respinsă, iar temei pentru respingere a constituit informația vizualizată într-o bază de date, Organizația va informa clientul referitor la baza de date accesată ")],-1)),e[44]||(e[44]=t("tr",null,[t("td",null,"Dreptul la un proiect de Contract de credit"),t("td",null,"Clientul are dreptul, la cerere, să obţină gratuit un exemplar al proiectului de Contract de credit. ")],-1))])]),e[47]||(e[47]=t("div",{class:"my-6"},"Îmi exprim acordul ca, Contractul de credit să fie încheiat în mai puțin de 15 zile calendaristice de la data semnării prezentei informații preContractuale.",-1)),e[48]||(e[48]=t("div",{class:"text-right mt-12"},"Semnătura: ________________",-1))])],512)])}}};export{Ht as default};
